@startuml

' ------------------------------ Abstract Class ----------------------------- '
abstract class "SparseMatrix"

' Attributes
SparseMatrix : - nz
SparseMatrix : - ncol
SparseMatrix : - nrow
SparseMatrix : ~ precision

' Methods
SparseMatrix : + SparseMatrix()
SparseMatrix : + ~SparseMatrix()
SparseMatrix : + setCoefficients()
SparseMatrix : + {abstract} assemble()
SparseMatrix : + matVec()
SparseMatrix : + getFormat()

' Sub-classes
SparseMatrix <|-- SparseMatrixCOO
SparseMatrix <|-- SparseMatrixELLPACK
SparseMatrix <|-- SparseMatrixCRS
SparseMatrix <|-- SparseMatrixBCRS
SparseMatrix <|-- SparseMatrixJDS

' -------------------------------- COO Format ------------------------------- '
class SparseMatrixCOO

' Attributes
SparseMatrixCOO : - aij[]
SparseMatrixCOO : - idx_col[]
SparseMatrixCOO : - idx_row[]

' Methods
SparseMatrixCOO : - convertToELLPACK()
SparseMatrixCOO : - convertFromELLPACK()

' Relationships
SparseMatrixELLPACK --* SparseMatrixCOO

' -------------------------------- CRS Format ------------------------------- '
class SparseMatrixCRS

' Attributes
SparseMatrixCRS : - aij[]
SparseMatrixCRS : - ia[]
SparseMatrixCRS : - ja[]

' Methods
SparseMatrixCRS : - convertToELLPACK()
SparseMatrixCRS : - convertFromELLPACK()

' Relationships
SparseMatrixELLPACK --* SparseMatrixCRS 

' ------------------------------- BCRS Format ------------------------------- '
class SparseMatrixBCRS

' Attributes
SparseMatrixBCRS : - nblk
SparseMatrixBCRS : - aij[][][]
SparseMatrixBCRS : - ia[]
SparseMatrixBCRS : - ja[]

' Methods
SparseMatrixBCRS : - convertFromELLPACK()
SparseMatrixBCRS : - convertToELLPACK()

' Relationships
SparseMatrixELLPACK --* SparseMatrixBCRS 

' ------------------------------ ELLPACK Format ----------------------------- '
class SparseMatrixELLPACK

' Attributes
SparseMatrixELLPACK : - maxnz_row
SparseMatrixELLPACK : - aij[]
SparseMatrixELLPACK : - ja[][]

' Methods
SparseMatrixELLPACK : - convertToCOO()
SparseMatrixELLPACK : - convertToCRS()
SparseMatrixELLPACK : - convertToBCRS()
SparseMatrixELLPACK : - convertToJDS()

' Relationships

' -------------------------------- JDS Format ------------------------------- '
class SparseMatrixJDS

' Attributes
SparseMatrixJDS : - perm[]
SparseMatrixJDS : - jdiag[]
SparseMatrixJDS : - col_ind[]
SparseMatrixJDS : - jd_ptr[]

' Methods
SparseMatrixJDS : - convertFromELLPACK()
SparseMatrixJDS : - convertToELLPACK()

'Relationships
SparseMatrixELLPACK --* SparseMatrixJDS

@enduml
